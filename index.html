<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Integração Low-Code</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><i class="fas fa-code-branch"></i> Sistema de Integração Low-Code</h1>
            <p>Integre sistemas corporativos com APIs personalizadas de forma segura</p>
        </header>

        <div class="dashboard">
            <!-- Painel de Controle -->
            <div class="control-panel">
                <h2>Painel de Controle</h2>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showSection('integrations')">
                        <i class="fas fa-plug"></i> Gerenciar Integrações
                    </button>
                    <button class="btn btn-secondary" onclick="showSection('data')">
                        <i class="fas fa-database"></i> Visualizar Dados
                    </button>
                    <button class="btn btn-info" onclick="showSection('builder')">
                        <i class="fas fa-tools"></i> Construtor de API
                    </button>
                </div>
            </div>

            <!-- Seção de Integrações -->
            <div id="integrations" class="section active">
                <h2>Gerenciar Integrações</h2>
                <div class="integration-form">
                    <h3>Nova Integração</h3>
                    <form id="integrationForm">
                        <div class="form-group">
                            <label for="integrationName">Nome da Integração:</label>
                            <input type="text" id="integrationName" required>
                        </div>
                        <div class="form-group">
                            <label for="apiEndpoint">Endpoint da API:</label>
                            <input type="url" id="apiEndpoint" required>
                        </div>
                        <div class="form-group">
                            <label for="apiKey">Chave da API:</label>
                            <input type="password" id="apiKey">
                        </div>
                        <div class="form-group">
                            <label for="integrationConfig">Configuração (JSON):</label>
                            <textarea id="integrationConfig" rows="4">{"auth_type": "bearer", "timeout": 30}</textarea>
                        </div>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i> Salvar Integração
                        </button>
                    </form>
                </div>

                <div class="integrations-list">
                    <h3>Integrações Existentes</h3>
                    <div id="integrationsContainer" class="cards-container">
                        <!-- Integrações serão carregadas aqui -->
                    </div>
                </div>
            </div>

            <!-- Seção de Visualização de Dados -->
            <div id="data" class="section">
                <h2>Visualizar Dados dos Sistemas</h2>
                <div class="data-source-selector">
                    <button class="btn btn-crm" onclick="loadData('crm')">
                        <i class="fas fa-users"></i> Dados CRM
                    </button>
                    <button class="btn btn-erp" onclick="loadData('erp')">
                        <i class="fas fa-boxes"></i> Dados ERP
                    </button>
                    <button class="btn btn-hr" onclick="loadData('hr')">
                        <i class="fas fa-user-tie"></i> Dados RH
                    </button>
                </div>

                <div id="dataDisplay" class="data-display">
                    <!-- Dados serão exibidos aqui -->
                </div>
            </div>

            <!-- Seção do Construtor de API -->
            <div id="builder" class="section">
                <h2>Construtor de API Personalizada</h2>
                <div class="api-builder">
                    <div class="form-group">
                        <label for="apiName">Nome da API:</label>
                        <input type="text" id="apiName" placeholder="Ex: API de Relatórios">
                    </div>
                    <div class="form-group">
                        <label for="dataSources">Fontes de Dados:</label>
                        <select id="dataSources" multiple>
                            <option value="crm">CRM</option>
                            <option value="erp">ERP</option>
                            <option value="hr">Recursos Humanos</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="endpointType">Tipo de Endpoint:</label>
                        <select id="endpointType">
                            <option value="rest">REST</option>
                            <option value="graphql">GraphQL</option>
                            <option value="webhook">Webhook</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="securityLevel">Nível de Segurança:</label>
                        <select id="securityLevel">
                            <option value="basic">Básico (API Key)</option>
                            <option value="jwt">JWT Token</option>
                            <option value="oauth">OAuth 2.0</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="generateAPI()">
                        <i class="fas fa-cogs"></i> Gerar API
                    </button>
                </div>

                <div id="apiOutput" class="api-output" style="display: none;">
                    <h3>API Gerada</h3>
                    <div class="code-block">
                        <pre id="generatedCode"></pre>
                    </div>
                    <button class="btn btn-success" onclick="downloadAPI()">
                        <i class="fas fa-download"></i> Baixar Código
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>